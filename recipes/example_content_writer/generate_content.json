{
  "steps": [
    {
      "type": "read_files",
      "config": {
        "path": "{{idea}}",
        "content_key": "idea_content"
      }
    },
    {
      "type": "read_files",
      "config": {
        "path": "{{files}}",
        "content_key": "additional_files_content",
        "optional": true
      }
    },
    {
      "type": "read_files",
      "config": {
        "path": "{{reference_content}}",
        "content_key": "reference_content_text",
        "optional": true
      }
    },
    {
      "type": "llm_generate",
      "config": {
        "prompt": "You are an expert creative writer. Using the idea provided below, and any additional context if available, generate new content that is engaging and follows the style of the reference content if provided. Output your answer as a JSON object with exactly two keys: 'path' and 'content'. The 'path' must be a filename ending with .md (which will be used as the output file name), and 'content' is the full generated content. Do not include any additional text outside the JSON object.\n\nIdea:\n{{idea_content}}\n\nAdditional Context (if any):\n{{additional_files_content}}\n\nReference Style (optional):\n{{reference_content_text}}",
        "model": "{{model|default:'openai/gpt-4'}}",
        "output_format": "files",
        "output_key": "generated_content"
      }
    },
    {
      "type": "write_files",
      "config": {
        "files_key": "generated_content",
        "root": "{{output_root|default:'.'}}"
      }
    }
  ]
}
